### 一、项目规范

1. **项目命名** - 采用小写方式，以中划线分隔

```js
// bad
mall_management-system / mallManagementSystem
// good
mall-management-system
```

2. **目录命名** - 全部采用**小写**方式，以中划线分割，有复数结构时采用复数命名法

```js
// bad
script / style / demo_scripts / demoStyles / imgs / docs
// good
scripts / styles / components / images / utils / layouts / demo-styles / demo-scripts / img / doc
```

> **特殊：** 项目中的 components 目录下的组件目录使用**大写驼峰**方式

3. **文件命名** - 采用小写方式，以中划线分隔

```js
// bad
renderDom.js / UserManagement.html
// good
render-dom.js / signup.css / index.html / company-logo.png
```

4. **修改公共组件需提前在群中告知**
   如：
   1. @all 我需要修改 XXX 公用组件，大家请知晓；
   2. 条件允许：在该组件中写一个更新日志，写清楚改什么功能

---

### 二、代码规范

**1. CSS**

1.1  id 采用驼峰式命名
1.2 less中的变量、函数、混合、placeholder 采用驼峰式命名
1.3 选择器尽可能精准

```css
// bad
.content .title {
  font-size: 2rem;
}

// good
.content > .title {
  font-size: 2rem;
}
```

1.4 颜色值和属性值使用 rgba 或十六进制，有透明度的用 rgba，否则用十六进制，十六进制能简写必须简写，并全部大写

---

**2. 引用**

2.1 使用 tabs (空格字符) 设置为 2 个空格
2.2 使用 `const` 定义常量，避免使用 `var`

```js
// bad
var a = 1
var b = 2

// good
const a = 1
const b = 2
```

2.3 必须重新赋值的引用，用 `let` 代替 `var`

---

**3. 对象**

3.1 使用字面语法创建对象

```js
// bad
const item = new Object();

// good
const item = {};
```

3.2 创建动态属性名对象时用计算属性名
3.3 用对象方法的缩写
3.4 用属性值的缩写
3.5 只给无效标识符的属性加引号
3.6 用对象扩展操作符代替`Object.assign`浅拷贝，用 rest 操作符获得新对象

---

**4. 数组**

4.1 使用字面语法创建数组

```js
// bad
const items = new Array()

// good
const items = []
```

4.2 用 [Array#push](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/push) 取代直接赋值添加项
4.3 用数组展开方法 `...` 拷贝数组
4.4 用展开方法 `...` 代替 `Array.from` 转换类数组对象
4.5 对迭代器映射，用 [Array.from](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/from) 替代 `...`，防止中间数组
4.6 数组回调用 return，若函数体仅返回表达式可省略
4.7 多行数组，首尾需换行

---

**5. 解构**

5.1 访问多个属性用对象解构

```js
// bad
function getFullName(user) {
  const firstName = user.firstName
  const lastName = user.lastName
  return `${firstName} ${lastName}`
}

// good
function getFullName(user) {
  const { firstName, lastName } = user
  return `${firstName} ${lastName}`
}

// best
function getFullName({ firstName, lastName }) {
  return `${firstName} ${lastName}`
}
```

5.2 使用数组解构
5.3 多返回值用对象解构

---

**6. 字符**

6.1 用单引号 `''` 定义字符串

```js
// bad
const name = "Capt. Janeway"

// bad - 模板字符串应含插值或换行
const name = `Capt. Janeway`

// good
const name = 'Capt. Janeway'
```

6.2 编程模式构建字符串时用模板字符串
6.3 不要用 `eval()`
6.4 不要转义多余字符

---

**7. 函数**

7.1 不要定义名为 `arguments` 的参数

```js
// bad
function foo(name, options, arguments) {
  // ...
}

// good
function foo(name, options, args) {
  // ...
}
```

7.2 不要用 `arguments`，用 rest 语法 `...`
7.3 用默认参数语法，不改变参数
7.4 默认参数放最后

---

**8. 模块**

8.1 用 import 导入模块（仅引入需要的）

- 例子：

```js
// bad
import airbnbGuide from './AirbnbStyleGuide'
airbnbGuide.isEqual()

// good
import { isEqual } from './AirbnbStyleGuide'
```

8.2 不要直接从导入导出
8.3 只从一个路径导入所有需要内容
8.4 把所有 import 放在非导入语句之前

---

**9. 属性**

9.1 访问属性用点符号

```js
const luke = {
  jedi: true,
  age: 28
}

// bad
const isJedi = luke['jedi']

// good
const isJedi = luke.jedi
```

9.2 变量访问属性时用 `[]` 表示法

---

**10. 变量**

10.1 把所有 `const` 声明放一起，把 `let` 放一起

```js
// bad
let i
const items = getItems()
let dragonball
const goSportsTeam = true
let len

// good
const goSportsTeam = true
const items = getItems()
let dragonball
let i
let length
```

---

**11. 比较运算符**

11.1 用 `===` 和 `!==`，不用 `==` 和 `!=`
11.2 布尔值用简写，字符串和数字显式比较

```js
// bad
if (isValid === true) {
  // ...
}

// good
if (isValid) {
  // ...
}

// bad
if (name) {
  // ...
}

// good
if (name !== '') {
  // ...
}

// bad
if (collection.length) {
  // ...
}

// good
if (collection.length > 0) {
  // ...
}
```

11.3 三目表达式不应嵌套，尽量单行
11.4 避免不必要三目表达式

---

**12. 代码块**

12.1 多行代码块需用大括号包裹

```js
// bad
if (test)
  return false

// good
if (test) return false

// good
if (test) {
  return false
}

// bad
function foo() { return false }

// good
function bar() {
  return false
}
```

12.2 `if` 后只要 return，后续 else 可省略；else if 内含 return，前面有 if+return 也可拆成多个 if

---

**13. 空格**

13.1 用空格分隔操作符

```js
// bad
const x=y+5

// good
const x = y + 5
```

13.2 文件以单个换行符结束
13.3 方法链超过两层调用时缩进，并用“引导点”
13.4 不在块开头加空行
13.5 括号内不加空格
13.6 中括号内不加空格
13.7 花括号内加空格
13.8 逗号前不加空格，逗号后加空格
13.9 行末不加空格
13.10 避免多空行，文件末仅保留1个换行符

---

**14. 逗号**

14.1 添加尾随逗号（trailing comma）

```js
// bad - 无尾逗号
const hero = {
     firstName: 'Florence',
-    lastName: 'Nightingale'
+    lastName: 'Nightingale',
+    inventorOf: ['coxcomb chart', 'modern nursing']
};

// good - 有尾逗号
const hero = {
    firstName: 'Florence',
    lastName: 'Nightingale',
    inventorOf: ['coxcomb chart', 'modern nursing'],
};
```

---

### 三、交互规范

1. 所有树节点的增改弹层使用 [Modal](https://ant.design/components/modal-cn/) 组件（对话框），所有的表格增改查弹层使用 [Drawer](https://ant.design/components/drawer-cn/) 组件（抽屉）

```bash
新增：/add 有操作按钮
编辑：/edit/:id 有操作按钮
查看：/detail/:id 无操作按钮，只查看(待定)
路由定义（关键字）/:action/:id
// action: add | edit | detail
```

2. [Form](https://ant.design/components/form-cn/) 组件布局

- Modal 中 Form 布局用 horizontal，一行一个 FormItem
- Drawer 中 Form 布局用 vertical，一行两个 FormItem
- 表格上方如高级搜索 Form 布局用 inline

---

### 四、注释规范

- **变量注释**
  1. 使用行内注释
  2. 对变量进行注释

- **函数注释**
  1. 函数的描述
  2. 参数的类型和含义
  3. 返回值的类型和含义
  4. 函数内部逻辑用行内注释

```js
/**
 * 两数求和
 * @param {number} a 数字a
 * @param {number} b 数字b
 * @return {number} 返回两数的和
 */
function add(a, b) {
  // ...
  return a + b
}
```

---

### 五、变量起名

1. **常用动词**

| 获取   | 设置   | 增加   | 删除   | 编辑   | 查看   | 打开   | 关闭   |
| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| get    | set    | add    | delete | edit   | view   | open   | close  |
| **读取** | **写入** | **载入** | **保存** | **开始** | **结束** | **备份** | **恢复** |
| read   | write  | load   | save   | begin  | end    | backup | restore|
| **分割** | **合并** | **导入** | **导出** | **插入** | **清除** | **绑定** | **追加** |
| split  | merge  | import | export | insert | clear  | bind   | append |
| **清理** | **排序** | **选取** | **标记** | **复制** | **粘贴** | **撤销** | **重做** |
| clean  | sort   | select | mark   | copy   | paste  | undo   | redo   |
| **暂停** | **启动** | **发布** | **解析** | **搜索** | **增加** | **减少** | **播放** |
| pause  | launch | publish| parse  | search | increase| decrease| play |
| **运行** | **编译** | **执行** | **提交** | **展开** | **折叠** | **监听** | **构建** |
| run    | compile| execute| submit | expand | collapse| listen | build  |
| **收集** | **编码** | **解码** | **加密** | **解密** | **压缩** | **解压缩** | **打包** |
| collect| encode | decode | encrypt| decrypt| compress| decompress| pack  |
| **发出** | **连接** | **断开** | **发送** | **接收** | **下载** | **上传** | **刷新** |
| emit   | connect| disconnect| send | receive| download| upload | refresh|

2. **函数采用变量 + 名词的方式**

```js
// 获取模型列表
getModelList
// 查看模型详情
getModelDetail
// 新增模型
addModel
// 编辑模型
editModel
// 删除模型
delModel
```

3. 避免单字母命名。命名需描述功能

```js
// bad
function q() { /* ... */ }
// good
function query() { /* ... */ }
```

4. 命名对象、函数、实例时用驼峰命名法（数据库相关可用下划线）

5. 不用前置或后置下划线

```js
// bad
this.__firstName__ = 'Panda';
this.firstName_ = 'Panda';
this._firstName = 'Panda';
// good
this.firstName = 'Panda';
```

6. 不要保存 `this` 的引用。用箭头函数或 [Function#bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind)

```js
// bad
function foo() {
  const that = this;
  return function () {
    console.log(that);
  };
}

// good
function foo() {
  return () => {
    console.log(this);
  };
}
```

---

### 六、Vue 项目规范

1. 每个文件声明一个组件并只导出一个组件

2. 组件名称和定义组件的文件名称建议一致

```js
// bad
import GlobalFotter from './Footer'
// good
import Footer from './Footer';
```

3. 组件名称推荐用大写驼峰

4. 没有子元素的标签用自闭合写法

```js
// bad
<Component></Component>
// good
<Component />
```

5. 多行属性标签，关闭标签另起一行

```js
// bad
<Component
  bar="bar"
  baz="baz" />
// good
<Component
  bar="bar"
  baz="baz"
/>
```

6. 多行属性采用缩进对齐，属性少时保持一行

```js
// good
<Foo
  superLongParam="bar"
  anotherSuperLongParam="baz"
/>
<Foo bar="bar" />
<Foo
  superLongParam="bar"
  anotherSuperLongParam="baz"
>
  <Quux />
</Foo>
```

7. Template 属性用双引号，其他 JS 用单引号

```js
// bad
<Foo bar='bar' />
// good
<Foo bar="bar" />
```

8. 列表循环中禁止用 index 作为 key，可用 item

```js
// bad
<li for="(item, index) in list" :key="index"></li>
// good
<li for="(item, index) in list" :key="item"></li>
```

---

### 七、vscode 设置

```json
// 在vscode编辑器中增加如下设置（ctrl+,）
"editor.codeActionsOnSave": {
  "editor.formatOnSave": true,
  "source.fixAll.eslint": true
}
```
